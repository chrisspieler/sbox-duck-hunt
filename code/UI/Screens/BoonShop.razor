@using Sandbox.UI;
@using Sandbox.Services;
@inherits Panel

<root class="justify-center items-center @RootClass">
    @if ( PurchaseTask != null)
    {
        <div class="overlay blur"/>
    }
    <div class="shadow-box"/>
    <div class="main flex-col">
        <div class="header w-full shrink-0">
            <div class="title grow justify-center items-center">Boon Shop</div>
            <div id="balanceArea" class="items-center">
                <img class="icon" src="ui/sbux_lg.png"/>
                <div class="balance grow justify-center items-center">@Monetization.Balance</div>
            </div>
            <div class="button" onclick=@Close>X</div>
        </div>
        <div class="body w-full flex-col">
            @foreach( var boon in AllBoons )
            {
                <div class="boon items-center">
                    <img class="thumbnail" src=@boon.Icon>
                    <div class="info flex-col grow items-center">
                        <label class="title">@boon.Title</label>
                        <label class="description">@boon.Description</label>
                    </div>
                    <div id="buyArea" class="flex-col shrink-0 justify-content items-center">
                        <div class="price items-center">
                            <img class="icon" src="ui/sbux_lg.png" />
                            <label>@boon.Cost</label>
                        </div>
                        @if (Boon.Has(boon))
                        {
                            <div class="button disabled">Owned</div>
                        }
                        else
                        {
                            <div class="button" onclick=@( _ => BuyBoon( boon ) )>Purchase</div>
                        }
                    </div>
                </div>
            }
        </div>
    </div>
</root>
